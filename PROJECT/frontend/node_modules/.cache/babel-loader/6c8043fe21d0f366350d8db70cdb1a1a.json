{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itswa\\\\Desktop\\\\FINALPROJ\\\\COMP3851\\\\PROJECT\\\\frontend\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../store/actions/authActions';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Button, Container, Navbar } from 'react-bootstrap';\nimport { LinkContainer, Row, Column } from \"react-router-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet config = {\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }\n};\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const location = useLocation();\n  const dispatch = useDispatch();\n  let loginType = location.search.replace(\"?type=\", \"\");\n  if (!loginType || ![\"admin\", \"user\"].includes(loginType)) loginType = \"user\";\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      const body = JSON.stringify({\n        email,\n        password\n      });\n      let res = await axios.post('/api/login/' + loginType, body, config);\n      dispatch(login(res.data));\n    } catch (err) {\n      let {\n        status\n      } = err.response;\n      if (status === 400) return setError(\"Wrong credentials!\");\n      setError(\"Oops, try again!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            children: \"University Of Newcastle - Program Advisory Tool\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"bigHeader\",\n        children: \"University of Newcastle's Program Advisory Tool Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"subHeader\",\n        children: [\"Login to your \", loginType, \" account!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Email Address\",\n            value: email,\n            onChange: e => setEmail(e.currentTarget.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Password\",\n            required: true,\n            minLength: 6,\n            onChange: e => setPassword(e.currentTarget.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You're \", loginType === \"admin\" ? \"a user\" : \"an admin\", \"?\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login?type=\" + (loginType === \"admin\" ? \"user\" : \"admin\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Sign In from here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"t2UPMEuq/1w7keh6hGqkp0rEAgI=\", false, function () {\n  return [useLocation, useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/itswa/Desktop/FINALPROJ/COMP3851/PROJECT/frontend/src/components/Login.js"],"names":["React","useState","useDispatch","login","axios","Link","useLocation","Button","Container","Navbar","LinkContainer","Row","Column","config","headers","Login","email","setEmail","password","setPassword","error","setError","location","dispatch","loginType","search","replace","includes","submitHandler","e","preventDefault","body","JSON","stringify","res","post","data","err","status","response","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../store/actions/authActions';\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Button, Container, Navbar } from 'react-bootstrap';\nimport { LinkContainer, Row, Column } from \"react-router-bootstrap\";\n\n\n\nlet config = { \n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json' \n    }\n}\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    const location = useLocation();\n    const dispatch = useDispatch();\n\n    let loginType = location.search.replace(\"?type=\", \"\");\n\n    if(!loginType || ![\"admin\", \"user\"].includes(loginType))\n        loginType = \"user\"\n\n    const submitHandler = async (e) => {\n        e.preventDefault();\n        setError(\"\");\n        try{\n            const body = JSON.stringify({email, password})\n            let res = await axios.post('/api/login/' + loginType, body, config);\n            dispatch(login(res.data))\n        }catch(err){\n            let { status } = err.response;\n            if(status === 400)\n                return setError(\"Wrong credentials!\")\n\n            setError(\"Oops, try again!\")\n        }\n    }\n\n    return (\n        <div >\n            <Navbar bg=\"dark\" variant=\"dark\">\n                <Container>\n                    <LinkContainer to=\"/\">\n                        <Navbar.Brand>University Of Newcastle - Program Advisory Tool</Navbar.Brand>\n                    </LinkContainer>\n                </Container>\n            </Navbar>\n\n            <form onSubmit={submitHandler} className=\"form-group\">\n\n                <h1 className=\"bigHeader\">University of Newcastle's Program Advisory Tool Login</h1>\n\n                <h2 className=\"subHeader\">Login to your {loginType} account!</h2>\n\n                <div>\n                    <div>\n                        <input type=\"email\" placeholder=\"Email Address\" \n                        value={email} onChange={(e) => setEmail(e.currentTarget.value)}  required />\n                    </div>\n                </div>\n\n                <div>\n                    <div>\n                        <input type=\"password\" placeholder=\"Password\" required minLength={6}\n                        onChange={(e) => setPassword(e.currentTarget.value)}  />\n                    </div>\n                </div>\n\n                <p>You're {loginType === \"admin\" ? \"a user\" : \"an admin\"}?\n\n                    <Link to={\"/login?type=\" + (loginType === \"admin\" ? \"user\" : \"admin\")}>\n                        <span>Sign In from here!</span>\n                    </Link>\n\n                </p>\n\n                {error && <p>{error}</p>}\n                <button >Login</button>\n\n            </form>\n        </div>\n    )\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}