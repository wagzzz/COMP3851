{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar Prompts_1 = require(\"./Prompts\");\n\nvar PromptInput = function (_super) {\n  __extends(PromptInput, _super);\n\n  function PromptInput(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.formElement = null;\n    _this.inputElement = null;\n    var _a = props.prompt,\n        initialValue = _a.initialValue,\n        placeholder = _a.placeholder;\n    _this.state = {\n      value: initialValue || '',\n      initialValue: initialValue,\n      placeholder: placeholder\n    };\n    _this.onSubmit = _this.onSubmit.bind(_this);\n    return _this;\n  }\n\n  PromptInput.prototype.componentDidMount = function () {\n    var _this = this;\n\n    this.setState({\n      value: this.state.initialValue || ''\n    }, function () {\n      _this.inputElement && _this.inputElement.select();\n    });\n  };\n\n  Object.defineProperty(PromptInput.prototype, \"value\", {\n    get: function () {\n      return this.state.value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  PromptInput.prototype.checkValidity = function () {\n    var formElement = this.formElement;\n\n    if (formElement) {\n      if (!formElement.checkValidity()) {\n        formElement.reportValidity();\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  PromptInput.prototype.onSubmit = function (e) {\n    e.preventDefault();\n\n    if (!this.checkValidity()) {\n      return false;\n    }\n\n    this.props.onSubmit && this.props.onSubmit();\n    return false;\n  };\n\n  PromptInput.prototype.render = function () {\n    var _this = this;\n\n    var prompt = this.props.prompt;\n    var _a = this.state,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    var type = prompt instanceof Prompts_1.PasswordPrompt ? 'password' : 'text';\n    return react_1.default.createElement(\"form\", {\n      ref: function (el) {\n        _this.formElement = el;\n      },\n      onSubmit: this.onSubmit\n    }, react_1.default.createElement(\"input\", {\n      ref: function (el) {\n        _this.inputElement = el;\n      },\n      type: type,\n      className: 'form-control',\n      value: value,\n      placeholder: placeholder,\n      onChange: function (e) {\n        return _this.setState({\n          value: e.target.value\n        });\n      },\n      required: prompt.required,\n      autoFocus: true\n    }));\n  };\n\n  return PromptInput;\n}(react_1.default.Component);\n\nexports.default = PromptInput;","map":{"version":3,"sources":["../src/PromptInput.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar Prompts_1 = require(\"./Prompts\");\nvar PromptInput = /** @class */ (function (_super) {\n    __extends(PromptInput, _super);\n    function PromptInput(props) {\n        var _this = _super.call(this, props) || this;\n        _this.formElement = null;\n        _this.inputElement = null;\n        var _a = props.prompt, initialValue = _a.initialValue, placeholder = _a.placeholder;\n        _this.state = {\n            value: initialValue || '',\n            initialValue: initialValue,\n            placeholder: placeholder\n        };\n        _this.onSubmit = _this.onSubmit.bind(_this);\n        return _this;\n    }\n    PromptInput.prototype.componentDidMount = function () {\n        var _this = this;\n        this.setState({ value: this.state.initialValue || '' }, function () {\n            _this.inputElement && _this.inputElement.select();\n        });\n    };\n    Object.defineProperty(PromptInput.prototype, \"value\", {\n        get: function () {\n            return this.state.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PromptInput.prototype.checkValidity = function () {\n        var formElement = this.formElement;\n        if (formElement) {\n            if (!formElement.checkValidity()) {\n                formElement.reportValidity();\n                return false;\n            }\n        }\n        return true;\n    };\n    PromptInput.prototype.onSubmit = function (e) {\n        e.preventDefault();\n        if (!this.checkValidity()) {\n            return false;\n        }\n        this.props.onSubmit && this.props.onSubmit();\n        return false;\n    };\n    PromptInput.prototype.render = function () {\n        var _this = this;\n        var prompt = this.props.prompt;\n        var _a = this.state, value = _a.value, placeholder = _a.placeholder;\n        var type = (prompt instanceof Prompts_1.PasswordPrompt) ? 'password' : 'text';\n        return (react_1.default.createElement(\"form\", { ref: function (el) { _this.formElement = el; }, onSubmit: this.onSubmit },\n            react_1.default.createElement(\"input\", { ref: function (el) { _this.inputElement = el; }, type: type, className: 'form-control', value: value, placeholder: placeholder, onChange: function (e) { return _this.setState({ value: e.target.value }); }, required: prompt.required, autoFocus: true })));\n    };\n    return PromptInput;\n}(react_1.default.Component));\nexports.default = PromptInput;\n//# sourceMappingURL=PromptInput.js.map"]},"metadata":{},"sourceType":"script"}